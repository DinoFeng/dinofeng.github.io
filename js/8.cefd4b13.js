(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"9b0e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h2",[e._v("Current Camera")]),e.device?a("code",[e._v(e._s(e.device.label))]):e._e(),a("div",{staticClass:"border"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.camera,expression:"camera"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.camera=t.target.multiple?a:a[0]}}},[a("option",[e._v("-- Select Device --")]),e._l(e.devices,(function(t){return a("option",{key:t.deviceId,domProps:{value:t.deviceId}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"col-md-12"},[a("q-btn",{attrs:{type:"button"},on:{click:e.onStart}},[e._v("打开摄像头")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onStop}},[e._v("关闭摄像头")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onCapture}},[e._v("拍照")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onSave}},[e._v("Save")])],1)]),a("vue-web-cam",{ref:"webcam",attrs:{"device-id":e.deviceId,width:"100%"},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}})],1)]),a("div",{staticClass:"col-md-6"},[a("h2",[e._v("Captured Image "+e._s(e.info))]),a("figure",{staticClass:"figure"},[a("img",{staticClass:"img-responsive",attrs:{src:e.img}})])])])])])},o=[],s=(a("ddb0"),a("b3cb")),i={name:"vuecamtest",components:{"vue-web-cam":s["WebCam"]},data(){return{img:null,camera:null,deviceId:null,devices:[],info:""}},computed:{device:function(){return this.devices.find((e=>e.deviceId===this.deviceId))}},watch:{camera:function(e){this.deviceId=e},devices:function(){const[e,...t]=this.devices;e&&(this.camera=e.deviceId,this.deviceId=e.deviceId)}},methods:{onCapture(){this.img=this.$refs.webcam.capture()},onStarted(e){console.log("On Started Event",e)},onStopped(e){console.log("On Stopped Event",e)},onStop(){this.$refs.webcam.stop()},onStart(){this.$refs.webcam.start()},onError(e){console.log("On Error Event",e)},onCameras(e){this.devices=e,console.log("On Cameras Event",e)},onCameraChange(e){this.deviceId=e,this.camera=e,console.log("On Camera Change Event",e)},onSave(){this.$axios.request({url:"http://localhost:3000/picture",method:"post",data:{photos:this.img}}).then((e=>e.data)).then((e=>this.info=e))}}},c=i,r=a("2877"),d=Object(r["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports}}]);