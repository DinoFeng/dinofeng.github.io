(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"7a5b":function(t,a,e){},"9e40":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",[e("div",{staticClass:"l-constrained"},[e("div",{staticClass:"m-box"},[e("form",{attrs:{action:"",method:"POST",enctype:"multipart/form-data"}},[e("div",{staticClass:"m-upload js-fileupload"},[e("div",{staticClass:"m-upload__preview jst-preview"},[e("div",[e("i",{staticClass:"mdi mdi-cloud-upload"})])]),e("div",{staticClass:"m-upload__inputs"},[e("div",{staticClass:"m-upload__file"},[e("input",{attrs:{id:"ul-button-1",type:"file",accept:"image/*",name:"ul[0][pick]"}}),e("label",{attrs:{for:"ul-button-1"}},[e("q-icon",{attrs:{name:"photo_library"}}),t._v("图册")],1)]),e("div",{staticClass:"m-upload__file"},[e("input",{attrs:{id:"ul-button-2",type:"file",accept:"image/*",capture:"camera",name:"ul[0][camera]"}}),e("label",{attrs:{for:"ul-button-2"}},[e("q-icon",{attrs:{name:"camera_alt"}}),t._v("拍照")],1)])])]),e("div",{staticClass:"m-upload js-fileupload"},[e("div",{staticClass:"m-upload__preview jst-preview"},[e("div",[e("i",{staticClass:"mdi mdi-cloud-upload"})])]),e("div",{staticClass:"m-upload__inputs"},[e("div",{staticClass:"m-upload__file"},[e("input",{attrs:{id:"ul-button-3",type:"file",accept:"image/*",name:"ul[1][pick]"}}),e("label",{attrs:{for:"ul-button-3"}},[e("q-icon",{attrs:{name:"photo_library"}}),t._v("图册")],1)]),e("div",{staticClass:"m-upload__file"},[e("input",{attrs:{id:"ul-button-4",type:"file",accept:"image/*",capture:"camera",name:"ul[1][camera]"}}),e("label",{attrs:{for:"ul-button-4"}},[e("q-icon",{attrs:{name:"camera_alt"}}),t._v("拍照")],1)])])])])])])])},s=[],o=(e("ddb0"),e("2b3d"),e("9861"),{name:"CameraTest",data(){return{videoWidth:1280,videoHeight:720,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,openVideo:!1,info:""}},mounted(){},methods:{test(){this.info=navigator.userAgent},test2(){this.info=navigator.platform},async getInfo(){const t=await navigator.mediaDevices.enumerateDevices();this.info=t},getCompetence(){var t=this;t.thisCancas=document.getElementById("canvasCamera"),t.thisContext=this.thisCancas.getContext("2d"),t.thisVideo=document.getElementById("videoCamera"),t.thisVideo.style.display="block",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var a=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return a?new Promise((function(e,i){a.call(navigator,t,e,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var a={audio:!1,video:{width:this.videoWidth,height:this.videoHeight,transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(a).then((function(a){"srcObject"in t.thisVideo?t.thisVideo.srcObject=a:t.thisVideo.src=window.URL.createObjectURL(a),t.thisVideo.onloadedmetadata=function(a){t.thisVideo.play()}})).catch((t=>{console.log(t)}))},async saveImage(){this.$axios.request({url:"http://localhost:3000/picture",method:"post",data:{photos:this.imgSrc}}).then((t=>t.data)).then((t=>this.info=t))},setImage(){var t=this;t.thisContext.drawImage(t.thisVideo,0,0);var a=this.thisCancas.toDataURL("image/jpeg");t.imgSrc=a},stopNavigator(){this.thisVideo.srcObject.getTracks()[0].stop()}}}),n=o,r=(e("fd51"),e("2877")),d=Object(r["a"])(n,i,s,!1,null,"06fc0384",null);a["default"]=d.exports},fd51:function(t,a,e){"use strict";e("7a5b")}}]);