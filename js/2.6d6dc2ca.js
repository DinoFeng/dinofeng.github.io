(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"49e3":function(e,t,i){"use strict";var o=i("1344");t["a"]=Object(o["a"])()},"5ff7":function(e,t,i){"use strict";i("600a")},"600a":function(e,t,i){},6610:function(e,t,i){},"6af6":function(e,t,i){"use strict";i("6610")},"81c6":function(e,t,i){},8421:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-page",{staticClass:"flex flex-center"},[i("scanner",{ref:"scanner",on:{scaned:e.onScaned},model:{value:e.showScanner,callback:function(t){e.showScanner=t},expression:"showScanner"}}),i("div",{staticClass:"sr__scan__item"},[i("q-btn-group",[i("q-btn",{on:{click:e.beginScan}},[e._v("scan")]),i("q-btn",{on:{click:e.alertShow}},[e._v("alert")]),i("q-btn",{on:{click:e.confirmShow}},[e._v("confirm")]),i("q-btn",{on:{click:e.promptShow}},[e._v("prompt")])],1),i("textarea",{attrs:{cols:100,rows:6},domProps:{value:e.info}})],1)],1)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{ref:"dialog",attrs:{value:e.isShow,seamless:e.seamless,persistent:e.persistent,position:e.position},on:{hide:[function(t){return e.$emit("change",!1)},e.hide],show:e.show}},[i("q-card",{staticClass:"flex flex-center my-card"},[e.canSupport?i("video",{ref:"scannerRef",staticClass:"flex flex-center",attrs:{id:e.video,"webkit-playsinline":"true",playsinline:"true"}}):e._e(),e.canSwitch?i("div",{staticClass:"absolute-top text-subtitle2 text-right"},[i("q-btn",{attrs:{round:"",icon:"cameraswitch"},on:{click:e.switchCamera}})],1):e._e()])],1)},a=[],l=i("f2c6"),r=i("49e3"),c={name:"Scanner",model:{prop:"isShow",event:"change"},props:{isShow:Boolean,seamless:Boolean,persistent:Boolean,position:String},data(){return{scaner:null,canSupport:!0,audio:new Audio("scan.mp3"),canSwitch:!1,video:"video"}},destroyed(){r["a"].off("scaned",this.onScaned)},async mounted(){this.video=`video-${Date().toString()}`;const e=new l["a"](this.video);this.scaner=e,this.canSupport=e.isMediaStreamAPISupported,r["a"].on("scaned",this.onScaned)},methods:{show(){this.doScan().then((()=>this.scaner.getVideoDevices())).then((e=>this.canSwitch=e.length>1))},hide(){this.stopScan()},async stopScan(){return this.scaner&&this.scaner.stopScan()},async doScan(){return this.scaner&&this.scaner.scan()},async playAudio(){this.audio&&this.audio.muted&&(this.audio.muted=!1),this.audio.play()},onScaned(e){console.info(`scan success! value is:${e}`),this.playAudio(),this.$emit("scaned",e)},async switchCamera(){return this.scaner&&this.scaner.switchCamera()}}},u=c,d=(i("b613"),i("2877")),m=Object(d["a"])(u,n,a,!1,null,"ba9989da",null),p=m.exports,h=i("2ef0"),g=i.n(h),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("base-dialog",{ref:"dialog",attrs:{title:e.title,message:e.message,icon:e.icon,iconColorName:e.iconColorName,buttonLabel:e.buttonLabel||e.$t("close"),position:e.position,seamless:e.seamless,persistent:e.persistent},on:{ok:e.onOKClick,hide:e.onDialogHide},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title")]},proxy:!0},{key:"content",fn:function(){return[e._t("content")]},proxy:!0},{key:"plugin",fn:function(){return[e.detail?i("q-card-section",{attrs:{align:"right"}},[i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.detailShow=!e.detailShow}}},[e._v(e._s(e.$t("detail")))])]):e._e(),e.detail&&e.detailShow?i("q-card-section",[i("q-scroll-area",{staticClass:"q-dialog-detail-section text-caption"},[e._v(e._s(e.detail))])],1):e._e()]},proxy:!0},{key:"actions",fn:function(){return[e._t("actions")]},proxy:!0}],null,!0)})},v=[],b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-dialog",{ref:"dialog",attrs:{seamless:e.seamless,persistent:e.persistent,position:e.position},on:{hide:e.onDialogHide}},[i("q-card",{staticClass:"q-dialog-plugin"},[e._t("title",(function(){return[e.title?i("q-card-section",[i("div",{staticClass:"text-h6"},[e._v(e._s(e.title))])]):e._e()]})),e._t("content",(function(){return[i("q-card-section",[i("div",{staticClass:"row"},[e.icon?i("div",{staticClass:"col-xs-2 col-sm-1 q-ma-none flex flex-center"},[e.icon?i("q-icon",{staticClass:"full",attrs:{size:"xl",name:e.icon,color:e.iconColorName}}):e._e()],1):e._e(),i("div",{ref:"contentBody",class:["col","q-ma-sm","text-body1",e.isMultiline?"text-justify":"text-center"]},[e._v(" "+e._s(e.message))])])])]})),e._t("plugin"),i("q-separator"),e._t("actions",(function(){return[i("q-card-actions",[i("q-btn",{staticClass:"full-width",attrs:{flat:"",color:"primary",label:e.buttonLabel||e.$t("close")},on:{click:function(t){return t.stopPropagation(),e.onOKClick.apply(null,arguments)}}})],1)]}))],2)],1)},S=[],C={methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){console.debug("baseMethod onOKClick"),this.$emit("ok"),this.hide()},onCancelClick(){this.stopCount&&this.stopCount(),this.hide()}}},w=i("b178");const k=30;var q={name:"baseDialog",mixins:[C],props:{title:String,message:String,icon:String,iconColorName:String,buttonLabel:String,position:String,seamless:Boolean,persistent:Boolean,defaultButton:Boolean},data(){return{isMultiline:!1}},mounted(){setTimeout((()=>{const e=this.$refs.contentBody;if(e){const t=w["b"].height(e);this.isMultiline=t>k}else this.isMultiline=!1}),200)}},y=q,x=(i("cd81"),Object(d["a"])(y,b,S,!1,null,"0cb3e496",null)),O=x.exports,_={name:"alertDialog",components:{baseDialog:O},mixins:[C],props:{detail:String,title:String,message:String,icon:String,iconColorName:String,buttonLabel:String,position:String,seamless:Boolean,persistent:Boolean},data(){return{detailShow:!1}}},D=_,L=(i("5ff7"),Object(d["a"])(D,f,v,!1,null,"4bab6ec4",null)),N=L.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("base-dialog",{ref:"dialog",attrs:{title:e.title,message:e.message,icon:e.icon,iconColorName:e.iconColorName,position:e.position,seamless:e.seamless,persistent:e.persistent},on:{ok:e.onOKClick,hide:e.onDialogHide},scopedSlots:e._u([{key:"title",fn:function(){return[e._t("title")]},proxy:!0},{key:"content",fn:function(){return[e._t("content")]},proxy:!0},{key:"plugin",fn:function(){return[e._t("plugin")]},proxy:!0},{key:"actions",fn:function(){return[i("q-card-actions",[i("q-btn-group",{staticClass:"full-width",attrs:{spread:"",flat:"",unelevated:""}},[i("q-btn",{attrs:{flat:"",type:"submit",color:"primary",label:e.labelOK,autofocus:e.defaultOK},on:{click:function(t){return t.stopPropagation(),e.onOKClick.apply(null,arguments)}}}),i("q-separator",{attrs:{vertical:""}}),i("q-btn",{attrs:{flat:"",type:"reset",color:"primary",label:e.labelCancel,autofocus:e.defaultCancel},on:{click:function(t){return t.stopPropagation(),e.onCancelClick.apply(null,arguments)}}})],1)],1)]},proxy:!0}],null,!0)})},K=[],F={name:"confirmDialog",components:{baseDialog:O},mixins:[C],props:{buttonLabel:Array,okLabel:String,cancelLabel:String,defaultButton:{type:String,validator:function(e){return["ok","cancel"].includes(e.toLowerCase())}},title:String,message:String,icon:String,iconColorName:String,position:String,seamless:Boolean,persistent:Boolean},computed:{labelOK(){const e=this.okLabel||g.a.get(this.buttonLabel,[0])||this.$t("ok");return e},labelCancel(){const e=this.cancelLabel||g.a.get(this.buttonLabel,[1])||this.$t("cancel");return e},defaultOK(){return this.defaultButton&&"ok"===this.defaultButton.toLowerCase()},defaultCancel(){return this.defaultButton&&"cancel"===this.defaultButton.toLowerCase()}},methods:{onClose(){this.defaultOK?this.onOKClick():this.onCancelClick()}}},$=F,I=Object(d["a"])($,B,K,!1,null,null,null),V=I.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("confirm-dialog",{ref:"dialog",attrs:{title:e.title,message:e.message,icon:e.icon,iconColorName:e.iconColorName,position:e.position,seamless:e.seamless,persistent:e.persistent,buttonLabel:e.buttonLabel,okLabel:e.okLabel,cancelLabel:e.cancelLabel,defaultButton:e.defaultButton},on:{hide:e.onDialogHide},scopedSlots:e._u([{key:"plugin",fn:function(){return[i("q-card-section",[i("q-form",{on:{submit:e.clickOK,reset:e.onCancelClick}},[i("div",{staticClass:"row"},[i("q-input",{staticClass:"col text-h6",attrs:{debounce:"500",autofocus:e.focusInput,rules:e.rules},on:{focus:e.onFocus},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)])],1)]},proxy:!0}])})},j=[],P={name:"promptDialog",components:{confirmDialog:V},mixins:[C],props:{defaultValue:String,validate:Function,inputFouce:Boolean,buttonLabel:Array,okLabel:String,cancelLabel:String,defaultButton:{type:String,validator:function(e){return["ok","cancel"].includes(e.toLowerCase())}},title:String,message:String,icon:String,iconColorName:String,position:String,seamless:Boolean,persistent:Boolean},mounted(){this.text=this.defaultValue||"",setTimeout((()=>{this.$refs.dialog&&(this.$refs.dialog.onOKClick=this.clickOK)}),200)},data(){return{text:""}},computed:{rules(){return this.validate?[this.validate]:void 0},focusInput(){return g.a.isNil(this.inputFouce)?!this.defaultValue:this.inputFouce}},methods:{clickOK(){this.validate&&g.a.isFunction(this.validate)&&!0!==this.validate(this.text)||(this.$emit("ok",this.text),this.hide())},onFocus(e){e.target.select()}}},A=P,M=Object(d["a"])(A,E,j,!1,null,null,null),R=M.exports,H={methods:{showDialog(e,t){return this.$q.dialog({component:e,parent:this,...t})},showAlert({type:e,title:t,message:i,detail:o,position:s,persistent:n,seamless:a,buttonLabel:l}){const r={error:{name:"error",color:"negative"},info:{name:"info",color:"info"},warning:{name:"warning",color:"warning"},success:{name:"check_circle",color:"positive"},fail:{name:"cancel",color:"negative"}},c=g.a.get(r,[e,"name"])||"",u=g.a.get(r,[e,"color"])||"";return this.showDialog(N,{title:t,message:i,detail:o,icon:c,iconColorName:u,position:s,persistent:n,seamless:a,buttonLabel:l})},showConfirm({title:e,message:t,position:i,persistent:o,seamless:s,defaultOK:n,cancelLabel:a,okLabel:l}){const r="help",c="secondary",u=g.a.isNil(n)?null:n?"ok":"cancel";return this.showDialog(V,{title:e,message:t,icon:r,iconColorName:c,position:i,persistent:o,seamless:s,cancelLabel:a,okLabel:l,defaultButton:u})},showPrompt({title:e,message:t,icon:i,iconColorName:o,position:s,persistent:n,seamless:a,defaultOK:l,cancelLabel:r,okLabel:c,defaultValue:u,inputFouce:d,validate:m}){const p=g.a.isNil(l)?null:l?"ok":"cancel";return this.showDialog(R,{title:e,message:t,icon:i,iconColorName:o,position:s,persistent:n,seamless:a,cancelLabel:r,okLabel:c,defaultButton:p,defaultValue:u,inputFouce:d,validate:m})}}},T={name:"PageIndex",components:{scanner:p},mixins:[H],data(){return{info:"",showScanner:!1}},methods:{async beginScan(){this.showScanner=!0},onScaned(e){this.info=e,this.showScanner=!1},alertShow(){this.showAlert({type:"error",title:"Test!!",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?",detail:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?",buttonLabel:"WTF"}).onOk((()=>{console.log("OK")})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("I am triggered on both OK and Cancel")}))},confirmShow(){this.showConfirm({message:"Lorem ipsum dolor sit as voluptate?",cancelLabel:"WTF",okLabel:"!!!!!",defaultOK:!1}).onOk((()=>{console.log("OK")})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("I am triggered on both OK and Cancel")}))},promptShow(){this.showPrompt({title:"Test",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit nihil praesentium molestias a adipisci, dolore vitae odit, quidem consequatur optio voluptates asperiores pariatur eos numquam rerum delectus commodi perferendis voluptate?",icon:"help",iconColorName:"dark",defaultValue:"fff",defaultButton:"ok",defaultOK:!0,inputFouce:!0,validate:e=>!!e.includes("Hello")||"please Include hello"}).onOk((e=>{console.log("OK",e)})).onCancel((()=>{console.log("Cancel")})).onDismiss((()=>{console.log("I am triggered on both OK and Cancel")}))}}},J=T,W=(i("6af6"),Object(d["a"])(J,o,s,!1,null,"3c479173",null));t["default"]=W.exports},b613:function(e,t,i){"use strict";i("cc22")},cc22:function(e,t,i){},cd81:function(e,t,i){"use strict";i("81c6")},f2c6:function(e,t,i){"use strict";i("e01a");var o=i("224f"),s=i("b178"),n=i("49e3");const a=Symbol("privateObj");class l{constructor(e){const t=new o["BrowserMultiFormatReader"],i=[],s=!1,l=()=>{const e=this[a].videoDevices.findIndex((e=>"后置镜头"===e.label));return n["a"].emit("test",{mainCamIndex:e,videoDevices:this[a].videoDevices}),e>-1?e:this[a].videoDevices.length-1};return this[a]={codeReader:t,videoDevices:i,isVideoDevicesInit:s,getDefaultDeviceNO:l},this.displayEleID=e,this.cameraNO=-1,this}get isMediaStreamAPISupported(){return navigator&&navigator.mediaDevices&&"enumerateDevices"in navigator.mediaDevices}get isScanning(){return this[a].codeReader.isVideoPlaying(this[a].codeReader.getMediaElement(this.displayEleID,"video"))}async getVideoDevices(){return this[a].isVideoDevicesInit||await this[a].codeReader.listVideoInputDevices().then((e=>{this[a].videoDevices=e,this[a].isVideoDevicesInit=!0})).catch((e=>{throw console.error(e),e})),this[a].videoDevices}async switchCamera(e){const t=await this.getVideoDevices();if(t.length>1){let i=0;i=e?e<t.length?e:this[a].getDefaultDeviceNO():(this.cameraNO+1)%t.length,this.cameraNO!==i&&(this.isScanning&&await this.stopScan(),this.cameraNO=i,await this.scan())}}async scan(){const e=await this.getVideoDevices();if(e&&e.length>0){this.cameraNO=this.cameraNO>-1&&this.cameraNO<e.length?this.cameraNO:this[a].getDefaultDeviceNO();const t=e[this.cameraNO].deviceId;return this[a].codeReader.decodeFromVideoDevice(t,this.displayEleID,Object(s["c"])((async(e,t)=>{if(e&&n["a"].emit("scaned",e),t&&!(t instanceof o["NotFoundException"]))throw console.error(t),n["a"].emit("scanError",t),t}),1e3))}}async stopScan(){this[a].codeReader.reset()}}t["a"]=l}}]);