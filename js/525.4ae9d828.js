"use strict";(self["webpackChunkquasardemo2"]=self["webpackChunkquasardemo2"]||[]).push([[525],{7525:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ze});var l=a(9835);const s=e=>((0,l.dD)("data-v-f4a37a1e"),e=e(),(0,l.Cn)(),e),o={class:"footer"},c={class:"column q-ma-md text-white text-caption"},r=(0,l.Uk)("About"),i=(0,l.Uk)("Demo"),n=(0,l.Uk)("Cookie & Privacy Policy"),u=s((()=>(0,l._)("img",{src:"/十如.png",style:{"max-height":"100px","max-width":"100px"}},null,-1)));function d(e,t,a,s,d,m){const g=(0,l.up)("router-link"),p=(0,l.up)("q-toolbar-title"),v=(0,l.up)("q-toolbar"),_=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(_,{class:"items-center"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.stage))),(0,l._)("div",o,[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Wm)(g,{to:"/page"},{default:(0,l.w5)((()=>[r])),_:1}),(0,l.Wm)(g,{to:"/page"},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(g,{to:"/page"},{default:(0,l.w5)((()=>[n])),_:1})])])),_:1}),u])),_:1})])])),_:1})}var m=a(8910),g=a(2588),p=a(6970);const v={class:"text-h6",style:{"white-space":"pre-wrap"}},_={class:"row justify-center"},f={key:0,class:"absolute-full"},w={class:"absolute-top-right"},h={class:"absolute-bottom"},S={class:"text-subtitle1 text-weight-medium"},y={class:"text-body2 text-weight-thin"};function I(e,t,a,s,o,c){const r=(0,l.up)("q-card-section"),i=(0,l.up)("q-btn"),n=(0,l.up)("q-img"),u=(0,l.up)("q-intersection"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",v,(0,p.zw)(e.$t("dye_stage_title")),1)])),_:1}),(0,l.Wm)(r,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l._)("div",_,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.images,(t=>((0,l.wg)(),(0,l.j4)(u,{class:"card",key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{onClick:a=>e.selectedDye(t),src:t.url,ratio:e.isSelected(t)?0:4},{default:(0,l.w5)((()=>[e.isSelected(t)?((0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("div",w,[(0,l.Wm)(i,{class:"q-ma-md",rounded:"",label:"selected",color:"secondary",icon:"fa-solid fa-check"})]),(0,l._)("div",h,[(0,l._)("div",S,(0,p.zw)(t.name[e.currentLang]),1),(0,l._)("div",y,(0,p.zw)(t.desc[e.currentLang]),1)])])):(0,l.kq)("",!0)])),_:2},1032,["onClick","src","ratio"])])),_:2},1024)))),128))])])),_:1})])),_:1})}const b=(0,l.aZ)({name:"DyeStage",setup(){const e=(0,g.useStore)();return{images:(0,l.Fl)((()=>e.getters["stage/getDyeImages"])),selectedDye(t){e.commit("stage/setDyeSelected",t)},isSelected(t){const a=e.getters["stage/getSelectedDye"];return!!a&&t.id===a.id}}},computed:{currentLang(){return this.$i18n.locale}}});var Z=a(1639),W=a(4458),q=a(3190),k=a(8988),C=a(1517),x=a(335),Q=a(5157),F=a(9984),j=a.n(F);const D=(0,Z.Z)(b,[["render",I],["__scopeId","data-v-47621afd"]]),$=D;j()(b,"components",{QCard:W.Z,QCardSection:q.Z,QDialog:k.Z,QIntersection:C.Z,QImg:x.Z,QBtn:Q.Z});const H={class:"text-h6",style:{"white-space":"pre-wrap"}},L={class:"row justify-center"},z={key:0,class:"absolute-full flex flex-center"};function U(e,t,a,s,o,c){const r=(0,l.up)("q-card-section"),i=(0,l.up)("dialog-for-image-selector"),n=(0,l.up)("q-icon"),u=(0,l.up)("q-img"),d=(0,l.up)("q-intersection"),m=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"header"},{default:(0,l.w5)((()=>[(0,l._)("div",H,(0,p.zw)(e.$t("scene_stage_title")),1)])),_:1}),(0,l.Wm)(r,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{modelValue:e.showSelector,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showSelector=t),selectedImage:e.selectedImage,"onUpdate:selectedImage":t[1]||(t[1]=t=>e.selectedImage=t),persistent:"",imageList:e.images,currentImage:e.clickedImage},null,8,["modelValue","selectedImage","imageList","currentImage"]),(0,l._)("div",L,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.images,(t=>((0,l.wg)(),(0,l.j4)(d,{class:"card",key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{fit:"cover",src:t.url,ratio:1,onClick:a=>e.imageClick(t)},{default:(0,l.w5)((()=>[e.imageIsSelected(t)?((0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(n,{name:"fa-solid fa-circle-check",size:"md"})])):(0,l.kq)("",!0)])),_:2},1032,["src","onClick"])])),_:2},1024)))),128))])])),_:1})])),_:1})}var B=a(499);const P={class:"text-subtitle1 text-white text-uppercase"},V={class:"text-caption text-white"};function N(e,t,a,s,o,c){const r=(0,l.up)("q-btn"),i=(0,l.up)("q-space"),n=(0,l.up)("q-card-actions"),u=(0,l.up)("q-img"),d=(0,l.up)("q-card-section"),m=(0,l.up)("q-card"),g=(0,l.up)("q-dialog"),v=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(g,{id:"imgSelector",ref:"dialog",value:e.isShow,onHide:[t[2]||(t[2]=t=>e.$emit("change",!1)),e.hide],seamless:e.seamless,persistent:e.persistent,position:e.position,onShow:e.show},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"my-card",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(r,{round:"",color:"grey-7",icon:"fa-solid fa-xmark"},null,512),[[v]]),(0,l.Wm)(i),e.currentIsSelected?((0,l.wg)(),(0,l.j4)(r,{key:0,rounded:"",color:"secondary",icon:"check",label:"selected",onClick:t[0]||(t[0]=t=>e.imageSelected(void 0))})):((0,l.wg)(),(0,l.j4)(r,{key:1,rounded:"",color:"white","text-color":"secondary",label:"select",onClick:t[1]||(t[1]=t=>e.imageSelected(e.current))}))])),_:1}),(0,l.Wm)(u,{fit:"cover",src:e.currentImageUrl,ratio:1},null,8,["src"]),(0,l.Wm)(n,{align:"right"},{default:(0,l.w5)((()=>[(0,l._)("div",P,(0,p.zw)(e.$t("architectural_concepts")),1),(0,l.Wm)(i),(0,l.Wm)(r,{round:"",color:"grey-7",icon:"fa-solid fa-angle-left",onClick:e.movePrevious},null,8,["onClick"]),(0,l.Wm)(r,{round:"",color:"grey-7",icon:"fa-solid fa-angle-right",onClick:e.moveNext},null,8,["onClick"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",V,(0,p.zw)(e.currentDesc),1)])),_:1})])),_:1})])),_:1},8,["value","seamless","persistent","position","onHide","onShow"])}var T=a(4409),A=a(6825);const K=(0,l.aZ)({name:"DialogForImageSelector",props:{imageList:{required:!0,type:Array},currentImage:Object,selectedImage:Object,isShow:Boolean,seamless:Boolean,persistent:Boolean,position:String},emits:["change","update:selectedImage"],setup(e,{emit:t}){const{imageList:a,currentImage:s,selectedImage:o}=(0,B.BK)(e),c=(0,B.iH)(void 0),r=(0,B.iH)(void 0),i=()=>{},n=()=>{c.value=s.value?s.value:a.value?a.value[0]:void 0,r.value=o.value?o.value:r.value},u=e=>{var t;const l=null===(t=a.value)||void 0===t?void 0:t.findIndex((e=>{var t;return e.id===(null===(t=c.value)||void 0===t?void 0:t.id)})),s=(l+a.value.length+e)%a.value.length;c.value=a.value[s]},d=()=>{u(1)},m=()=>{u(-1)},g=e=>{r.value=e,t("update:selectedImage",r.value)},p=(0,l.Fl)((()=>A.i18n.global.locale)),v=(0,l.Fl)((()=>T.get(c,["value","desc",p.value])));return{current:c,currentImageUrl:(0,l.Fl)((()=>c.value?c.value.url:"")),currentDesc:v,currentLang:p,currentIsSelected:(0,l.Fl)((()=>{var e,t;return(null===(e=c.value)||void 0===e?void 0:e.id)===(null===(t=r.value)||void 0===t?void 0:t.id)})),hide:i,show:n,moveNext:d,movePrevious:m,imageSelected:g}}});var O=a(1821),R=a(136),Y=a(2146);const E=(0,Z.Z)(K,[["render",N],["__scopeId","data-v-025c6826"]]),G=E;j()(K,"components",{QDialog:k.Z,QCard:W.Z,QCardActions:O.Z,QBtn:Q.Z,QSpace:R.Z,QImg:x.Z,QCardSection:q.Z}),j()(K,"directives",{ClosePopup:Y.Z});const J=(0,l.aZ)({name:"SceneStage",components:{DialogForImageSelector:G},setup(){const e=(0,g.useStore)(),t=(0,B.iH)(!1),a=(0,B.iH)(void 0),s=(0,l.Fl)({get:()=>e.getters["stage/getSelectScene"],set:t=>{e.commit("stage/setSceneSelected",t)}});return{showSelector:t,clickedImage:a,selectedImage:s,images:(0,l.Fl)((()=>e.getters["stage/getSceneImages"])),imageClick(e){t.value=!0,a.value=e},imageIsSelected(e){var t;return e.id===(null===(t=s.value)||void 0===t?void 0:t.id)}}},methods:{isReady(){return!0}}});var M=a(2857);const X=(0,Z.Z)(J,[["render",U],["__scopeId","data-v-3e03365a"]]),ee=X;j()(J,"components",{QCard:W.Z,QCardSection:q.Z,QIntersection:C.Z,QImg:x.Z,QIcon:M.Z});const te={class:"text-h6",style:{"white-space":"pre-wrap"}},ae={class:"row justify-center"},le={class:"col-6 q-pa-md image in blurIn"},se={class:"row justify-center"},oe={class:"col q-pa-md"};function ce(e,t,a,s,o,c){const r=(0,l.up)("q-card-section"),i=(0,l.up)("q-img"),n=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(n,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",te,(0,p.zw)(e.$t("process_stage_title")),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",ae,[(0,l._)("div",le,[(0,l.Wm)(i,{fit:"cover",src:e.selectedScene.url,ratio:1,class:(0,p.C_)(e.image1_1),onLoad:e.onLoad},null,8,["src","class","onLoad"]),(0,l.Wm)(i,{fit:"cover",src:e.selectedDye.url,ratio:1,class:(0,p.C_)(e.image1_2),onLoad:e.onLoad},null,8,["src","class","onLoad"])])])])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",se,[(0,l._)("div",oe,[(0,l.Wm)(i,{fit:"cover",src:e.output,class:(0,p.C_)(e.image2_1),ratio:1},null,8,["src","class"])])])])),_:1})])),_:1})}const re=(0,l.aZ)({name:"ProcessStage",setup(){const e=(0,g.useStore)(),t=(0,B.iH)(""),a=e=>{console.debug(`${e} is loaded`)},s=(0,B.iH)(!1),o=(0,B.iH)(!0),c=(0,B.iH)(!1),r=(0,B.iH)(!1),i=(0,l.Fl)((()=>({hide:s.value}))),n=(0,l.Fl)((()=>({hide:o.value}))),u=(0,B.iH)(!1),d=(0,l.Fl)((()=>({hide:c.value,target:u}))),m=(0,B.iH)(!1),p=(0,l.Fl)((()=>({hide:r.value,source:m})));return setInterval((()=>{s.value=!s.value,o.value=!o.value}),5e3),setTimeout((()=>{u.value=!0,m.value=!0,r.value=!0,t.value="/dye/output.png",setTimeout((()=>e.commit("stage/setNextStage")),8e3)}),6e3),{image1_1:i,image1_2:n,image2_1:d,image2_2:p,output:t,onLoad:a,selectedDye:(0,l.Fl)((()=>e.getters["stage/getSelectedDye"])),selectedScene:(0,l.Fl)((()=>e.getters["stage/getSelectScene"]))}}}),ie=(0,Z.Z)(re,[["render",ce]]),ne=ie;j()(re,"components",{QCard:W.Z,QCardSection:q.Z,QImg:x.Z});const ue={class:"text-h6",style:{"white-space":"pre-wrap"}},de={class:"row justify-center"},me={class:"col"},ge={class:"text-h6",style:{"white-space":"pre-wrap"}},pe={class:"text-subtitle2"},ve={class:"text-body",style:{"white-space":"pre-wrap"}},_e={class:"text-body",style:{"white-space":"pre-wrap"}},fe={class:"text-body",style:{"white-space":"pre-wrap"}};function we(e,t,a,s,o,c){const r=(0,l.up)("q-card-section"),i=(0,l.up)("q-img"),n=(0,l.up)("q-btn"),u=(0,l.up)("q-card-actions"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",ue,(0,p.zw)(e.$t("summary_stage_title")),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",de,[(0,l._)("div",me,[(0,l.Wm)(i,{fit:"cover",src:"/dye/output.png",ratio:1}),(0,l.Wm)(i,{class:"fabric absolute",src:e.fabricInfo.url,ratio:1},null,8,["src"])])])])),_:1}),(0,l.Wm)(u,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{flat:"",round:"",icon:"fa-solid fa-images"}),e.canShare?((0,l.wg)(),(0,l.j4)(n,{key:0,flat:"",round:"",icon:"fa-solid fa-share-nodes",onClick:e.share},null,8,["onClick"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",ge,(0,p.zw)(e.$t("summary_stage_info_title")),1),(0,l._)("div",pe,(0,p.zw)(e.souvenirImage.id),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",ve,(0,p.zw)(e.$t("summary_stage_info_create_by",{createBy:e.souvenirImage.createBy})),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",_e,(0,p.zw)(e.$t("summary_stage_info_description",{detailInfo:e.souvenirImage.description})),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",fe,(0,p.zw)(e.$t("summary_stage_info_fabric",{fabricCode:e.fabricInfo.fabricCode,fabricInfo:e.fabricInfo.description})),1)])),_:1})])),_:1})}const he=(0,l.aZ)({name:"SummaryStage",setup(){const e=(0,g.useStore)(),t=A.i18n.global.t,a=(0,l.Fl)((()=>e.getters["stage/getFabricInfo"])),s=(0,l.Fl)((()=>e.getters["stage/getSouvenirImage"])),o="https://shiru.esquel.cn",c=(0,l.Fl)((()=>!T.isNil(navigator.share)&&T.isFunction(navigator.share)));return{fabricInfo:a,souvenirImage:s,fabricInfoUrl:(0,l.Fl)((()=>`img:${a.value.url}`)),canShare:c,share(){const e={url:`${o}/${s.value.id}`,text:t("share_text"),title:t("share_title")};c.value&&navigator.share(e).catch((e=>alert(e.message)))}}}}),Se=(0,Z.Z)(he,[["render",we],["__scopeId","data-v-12b5df6c"]]),ye=Se;j()(he,"components",{QCard:W.Z,QCardSection:q.Z,QImg:x.Z,QCardActions:O.Z,QBtn:Q.Z});const Ie={class:"text-h6",style:{"white-space":"pre-wrap"}},be={class:"row justify-center"},Ze={class:"col"},We={class:"text-h6"};function qe(e,t,a,s,o,c){const r=(0,l.up)("q-card-section"),i=(0,l.up)("q-img"),n=(0,l.up)("q-input"),u=(0,l.up)("q-form"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ie,(0,p.zw)(e.$t("submit_stage_title")),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",be,[(0,l._)("div",Ze,[(0,l.Wm)(i,{fit:"cover",src:"/dye/output.png",ratio:1})])])])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",We,(0,p.zw)(e.$t("submit_stage_input_title")),1)])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),label:e.$t("Name")},null,8,["modelValue","label"]),(0,l.Wm)(n,{modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),label:e.$t("Email")},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1})}const ke=(0,l.aZ)({name:"SubmitStage",setup(){const e=(0,B.iH)(""),t=(0,B.iH)("");return{name:e,email:t}}});var Ce=a(8326),xe=a(3436);const Qe=(0,Z.Z)(ke,[["render",qe]]),Fe=Qe;j()(ke,"components",{QCard:W.Z,QCardSection:q.Z,QImg:x.Z,QForm:Ce.Z,QInput:xe.Z});const je=(0,l.aZ)({name:"IndexPage",components:{RouterLink:m.rH,DyeStage:$,SceneStage:ee,ProcessStage:ne,SummaryStage:ye,SubmitStage:Fe},setup(){const e=(0,g.useStore)(),t=(0,m.yj)(),{params:a}=t,{stage:s}=a;return console.debug({params:a}),s&&e.commit("stage/setStage",s),{stage:(0,l.Fl)((()=>e.getters["stage/getCurrentStage"]))}}});var De=a(9885),$e=a(1663),He=a(1973);const Le=(0,Z.Z)(je,[["render",d],["__scopeId","data-v-f4a37a1e"]]),ze=Le;j()(je,"components",{QPage:De.Z,QToolbar:$e.Z,QToolbarTitle:He.Z})}}]);