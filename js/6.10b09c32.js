(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{c5ed:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h2",[e._v("Current Camera")]),e.device?a("code",[e._v(e._s(e.device.label))]):e._e(),a("div",{staticClass:"border"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.camera,expression:"camera"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.camera=t.target.multiple?a:a[0]}}},[a("option",[e._v("-- Select Device --")]),e._l(e.devices,(function(t){return a("option",{key:t.deviceId,domProps:{value:t.deviceId}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"col-md-12"},[a("q-btn",{attrs:{type:"button"},on:{click:e.onStart}},[e._v("打开摄像头")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onStop}},[e._v("关闭摄像头")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onCapture}},[e._v("拍照")]),a("q-btn",{attrs:{type:"button"},on:{click:e.onSave}},[e._v("Save")])],1)]),a("vue-web-cam",{ref:"webcam",attrs:{"device-id":e.deviceId,width:"100%"},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}})],1)]),a("div",{staticClass:"col-md-6"},[a("h2",[e._v("Captured Image "+e._s(e.info))]),a("figure",{staticClass:"figure"},[a("img",{staticClass:"img-responsive",attrs:{src:e.img}})])])])])])},s=[],o=(a("ddb0"),a("2b3d"),a("9861"),{name:"CameraTest",data(){return{videoWidth:1280,videoHeight:720,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,openVideo:!1,info:""}},mounted(){},methods:{test(){this.info=navigator.userAgent},test2(){this.info=navigator.platform},async getInfo(){const e=await navigator.mediaDevices.enumerateDevices();this.info=e},getCompetence(){var e=this;e.thisCancas=document.getElementById("canvasCamera"),e.thisContext=this.thisCancas.getContext("2d"),e.thisVideo=document.getElementById("videoCamera"),e.thisVideo.style.display="block",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return t?new Promise((function(a,i){t.call(navigator,e,a,i)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var t={audio:!1,video:{width:this.videoWidth,height:this.videoHeight,transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(t).then((function(t){"srcObject"in e.thisVideo?e.thisVideo.srcObject=t:e.thisVideo.src=window.URL.createObjectURL(t),e.thisVideo.onloadedmetadata=function(t){e.thisVideo.play()}})).catch((e=>{console.log(e)}))},async saveImage(){this.$axios.request({url:"http://localhost:3000/picture",method:"post",data:{photos:this.imgSrc}}).then((e=>e.data)).then((e=>this.info=e))},setImage(){var e=this;e.thisContext.drawImage(e.thisVideo,0,0);var t=this.thisCancas.toDataURL("image/jpeg");e.imgSrc=t},stopNavigator(){this.thisVideo.srcObject.getTracks()[0].stop()}}}),n=o,r=a("2877"),c=Object(r["a"])(n,i,s,!1,null,null,null);t["default"]=c.exports}}]);